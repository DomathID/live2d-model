<script>
const cubism2Model =
  "https://live2d.nekochan.eu.org/pachan/pachirisu%20anime%20girl%20-%20top%20half.model3.json";

const live2d = PIXI.live2d;

(async function main() {
  const app = new PIXI.Application({
    view: document.getElementById("canvas"),
    autoStart: true,
    resizeTo: window,
    transparent: true
  });

  const model = await live2d.Live2DModel.from(cubism2Model);

  app.stage.addChild(model);

  // Fungsi untuk menyesuaikan ukuran model sesuai dengan lebar layar
  function resizeModel() {
    const screenWidth = window.innerWidth;

    if (screenWidth > 1024) {
      // Desktop: perbesar model
      const scaleX = (innerWidth * 0.6) / model.width;
      const scaleY = (innerHeight * 1.2) / model.height;
      model.scale.set(Math.min(scaleX, scaleY));
      model.y = innerHeight * 0.1; // Posisi vertikal di desktop
    } else if (screenWidth > 768 && screenWidth <= 1024) {
      // Tablet: sesuaikan skala model
      const scaleX = (innerWidth * 0.8) / model.width;
      const scaleY = (innerHeight * 1.0) / model.height;
      model.scale.set(Math.min(scaleX, scaleY));
      model.y = innerHeight * 0.1; // Posisi vertikal di tablet
    } else {
      // Mobile: perkecil model agar sesuai layar
      const scaleX = (innerWidth * 0.5) / model.width;
      const scaleY = (innerHeight * 0.8) / model.height;
      model.scale.set(Math.min(scaleX, scaleY));
      model.y = innerHeight * 0.1; // Posisi vertikal di ponsel
    }
  }

  // Panggil fungsi resize saat aplikasi dimulai
  resizeModel();

  // Menyesuaikan model setiap kali ukuran jendela diubah
  window.addEventListener("resize", resizeModel);
})();
</script>
